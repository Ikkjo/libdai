\doxysection{bp\+\_\+dual.\+h}
\hypertarget{bp__dual_8h_source}{}\label{bp__dual_8h_source}\index{include/dai/bp\_dual.h@{include/dai/bp\_dual.h}}
\mbox{\hyperlink{bp__dual_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*\ \ This\ file\ is\ part\ of\ libDAI\ -\/\ http://www.libdai.org/}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ \ Copyright\ (c)\ 2006-\/2011,\ The\ libDAI\ authors.\ All\ rights\ reserved.}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ \ Use\ of\ this\ source\ code\ is\ governed\ by\ a\ BSD-\/style\ license\ that\ can\ be\ found\ in\ the\ LICENSE\ file.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#ifndef\ \_\_defined\_libdai\_bp\_dual\_h}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#define\ \_\_defined\_libdai\_bp\_dual\_h}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{dai__config_8h}{dai/dai\_config.h}}>}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#ifdef\ DAI\_WITH\_CBP}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{daialg_8h}{dai/daialg.h}}>}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{factorgraph_8h}{dai/factorgraph.h}}>}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{enum_8h}{dai/enum.h}}>}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedai}{dai}}\ \{}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00039\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdai_1_1BP__dual}{BP\_dual}}\ \{}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdai_1_1BP__dual_1_1__edges__t}{\_edges\_t}}\ :\ \textcolor{keyword}{public}\ std::vector<std::vector<T>\ >\ \{\};}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdai_1_1BP__dual_1_1messages}{messages}}\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdai_1_1BP__dual_1_1__edges__t}{\_edges\_t<Prob>}}\ \mbox{\hyperlink{structdai_1_1BP__dual_1_1messages_a9fe94ef68af464d07a318d074b8ac2f8}{n}};}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdai_1_1BP__dual_1_1__edges__t}{\_edges\_t<Real>}}\ \mbox{\hyperlink{structdai_1_1BP__dual_1_1messages_ae5b8e93e1f4cd1f6598e26c50d59a238}{Zn}};}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdai_1_1BP__dual_1_1__edges__t}{\_edges\_t<Prob>}}\ \mbox{\hyperlink{structdai_1_1BP__dual_1_1messages_a17cb4fbd3127a33a96c62bfbc7342bde}{m}};}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdai_1_1BP__dual_1_1__edges__t}{\_edges\_t<Real>}}\ \mbox{\hyperlink{structdai_1_1BP__dual_1_1messages_aa1c142e6fb65b8cbe685abb1b6016b61}{Zm}};}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdai_1_1BP__dual_1_1messages}{messages}}\ \mbox{\hyperlink{classdai_1_1BP__dual_a0ab7c97453e806927c16a0597963c4ca}{\_msgs}};}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdai_1_1BP__dual_1_1beliefs}{beliefs}}\ \{}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<Prob>\ \mbox{\hyperlink{structdai_1_1BP__dual_1_1beliefs_a7aa2374297c90967414ad3c6c9996df1}{b1}};}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<Real>\ \mbox{\hyperlink{structdai_1_1BP__dual_1_1beliefs_ae8e833547bd4c8edd1b88de925e72778}{Zb1}};}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<Prob>\ \mbox{\hyperlink{structdai_1_1BP__dual_1_1beliefs_a8506f423a60ba448dac6fa2b0c6f9c11}{b2}};}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<Real>\ \mbox{\hyperlink{structdai_1_1BP__dual_1_1beliefs_aafd58a36af5e2a46038c93b7c70495c1}{Zb2}};}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdai_1_1BP__dual_1_1beliefs}{beliefs}}\ \mbox{\hyperlink{classdai_1_1BP__dual_a751fa8b04459aa32511a690d5361d5bc}{\_beliefs}};}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdai_1_1InfAlg}{InfAlg}}\ *\mbox{\hyperlink{classdai_1_1BP__dual_a1ca381f37e9f27456e2f47c50053f6d5}{\_ia}};}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdai_1_1BP__dual_a45f371e19bc81dad70f43d9a8c9ac2d2}{init}}();}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdai_1_1BP__dual_aa5183a0cc6e149dcc6236cf9b81ab370}{regenerateMessages}}();}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdai_1_1BP__dual_aa45b2a19ab7c69a1ffca2bfadc3f9f34}{regenerateBeliefs}}();}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdai_1_1BP__dual_afcc99e0ab6e70c747228e5c259e2796f}{calcMessages}}();}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdai_1_1BP__dual_a8d3f4c0f3ff54e75d46556eaa4c24c5b}{calcNewM}}(\textcolor{keywordtype}{size\_t}\ i,\ \textcolor{keywordtype}{size\_t}\ \_I);}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdai_1_1BP__dual_a558033cc5526229363835202350bc766}{calcNewN}}(\textcolor{keywordtype}{size\_t}\ i,\ \textcolor{keywordtype}{size\_t}\ \_I);}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdai_1_1BP__dual_afebb3368b04203d6f9d214db2b533c1c}{calcBeliefs}}();}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdai_1_1BP__dual_afb3b4f347a781551d23fc4e24b4ef8ac}{calcBeliefV}}(\textcolor{keywordtype}{size\_t}\ i);}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdai_1_1BP__dual_aeac8816848bd52cd4998ab0f2b5a5759}{calcBeliefF}}(\textcolor{keywordtype}{size\_t}\ I);}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdai_1_1BP__dual_a0f7c0df5e3409e0a840686f144caaf30}{BP\_dual}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdai_1_1InfAlg}{InfAlg}}\ *\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{ia}}\ )\ :\ \mbox{\hyperlink{classdai_1_1BP__dual_a1ca381f37e9f27456e2f47c50053f6d5}{\_ia}}(\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{ia}})\ \{\ \mbox{\hyperlink{classdai_1_1BP__dual_a45f371e19bc81dad70f43d9a8c9ac2d2}{init}}();\ \}}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdai_1_1FactorGraph}{FactorGraph}}\&\ \mbox{\hyperlink{classdai_1_1BP__dual_add40422d782553590d84d42944d7d5f2}{fg}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdai_1_1BP__dual_a1ca381f37e9f27456e2f47c50053f6d5}{\_ia}}-\/>\mbox{\hyperlink{classdai_1_1InfAlg_a58888cd453abc0b3dbfe62068c5ccaa9}{fg}}();\ \}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdai_1_1TProb}{Prob}}\ \&\ \mbox{\hyperlink{classdai_1_1BP__dual_adbb86b5b8ba9cc3218099eadc1d468ff}{msgM}}(\ \textcolor{keywordtype}{size\_t}\ i,\ \textcolor{keywordtype}{size\_t}\ \_I\ )\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdai_1_1BP__dual_a0ab7c97453e806927c16a0597963c4ca}{\_msgs}}.\mbox{\hyperlink{structdai_1_1BP__dual_1_1messages_a17cb4fbd3127a33a96c62bfbc7342bde}{m}}[i][\_I];\ \}}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdai_1_1TProb}{Prob}}\ \&\ \mbox{\hyperlink{classdai_1_1BP__dual_a78db788a686be954799adc226019d652}{msgM}}(\ \textcolor{keywordtype}{size\_t}\ i,\ \textcolor{keywordtype}{size\_t}\ \_I\ )\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdai_1_1BP__dual_a0ab7c97453e806927c16a0597963c4ca}{\_msgs}}.\mbox{\hyperlink{structdai_1_1BP__dual_1_1messages_a17cb4fbd3127a33a96c62bfbc7342bde}{m}}[i][\_I];\ \}}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdai_1_1TProb}{Prob}}\ \&\ \mbox{\hyperlink{classdai_1_1BP__dual_acc19936a1306af2eb6abdb3d7dce5671}{msgN}}(\ \textcolor{keywordtype}{size\_t}\ i,\ \textcolor{keywordtype}{size\_t}\ \_I\ )\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdai_1_1BP__dual_a0ab7c97453e806927c16a0597963c4ca}{\_msgs}}.\mbox{\hyperlink{structdai_1_1BP__dual_1_1messages_a9fe94ef68af464d07a318d074b8ac2f8}{n}}[i][\_I];\ \}}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdai_1_1TProb}{Prob}}\ \&\ \mbox{\hyperlink{classdai_1_1BP__dual_a320273c8cfe313e4b2a2931cdb3fe47e}{msgN}}(\ \textcolor{keywordtype}{size\_t}\ i,\ \textcolor{keywordtype}{size\_t}\ \_I\ )\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdai_1_1BP__dual_a0ab7c97453e806927c16a0597963c4ca}{\_msgs}}.\mbox{\hyperlink{structdai_1_1BP__dual_1_1messages_a9fe94ef68af464d07a318d074b8ac2f8}{n}}[i][\_I];\ \}}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}}\ \&\ \mbox{\hyperlink{classdai_1_1BP__dual_a1ad1f858b9af74a1bd27f3bc6a9b066e}{zM}}(\ \textcolor{keywordtype}{size\_t}\ i,\ \textcolor{keywordtype}{size\_t}\ \_I\ )\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdai_1_1BP__dual_a0ab7c97453e806927c16a0597963c4ca}{\_msgs}}.\mbox{\hyperlink{structdai_1_1BP__dual_1_1messages_aa1c142e6fb65b8cbe685abb1b6016b61}{Zm}}[i][\_I];\ \}}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}}\ \&\ \mbox{\hyperlink{classdai_1_1BP__dual_a0564cebfc5bbd14bb1921d6a41041005}{zM}}(\ \textcolor{keywordtype}{size\_t}\ i,\ \textcolor{keywordtype}{size\_t}\ \_I\ )\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdai_1_1BP__dual_a0ab7c97453e806927c16a0597963c4ca}{\_msgs}}.\mbox{\hyperlink{structdai_1_1BP__dual_1_1messages_aa1c142e6fb65b8cbe685abb1b6016b61}{Zm}}[i][\_I];\ \}}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}}\ \&\ \mbox{\hyperlink{classdai_1_1BP__dual_a30bae785f8d196d2453b7a8175913d8c}{zN}}(\ \textcolor{keywordtype}{size\_t}\ i,\ \textcolor{keywordtype}{size\_t}\ \_I\ )\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdai_1_1BP__dual_a0ab7c97453e806927c16a0597963c4ca}{\_msgs}}.\mbox{\hyperlink{structdai_1_1BP__dual_1_1messages_ae5b8e93e1f4cd1f6598e26c50d59a238}{Zn}}[i][\_I];\ \}}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}}\ \&\ \mbox{\hyperlink{classdai_1_1BP__dual_a37b3536f2eb6a6e782a0cd48cefedd11}{zN}}(\ \textcolor{keywordtype}{size\_t}\ i,\ \textcolor{keywordtype}{size\_t}\ \_I\ )\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdai_1_1BP__dual_a0ab7c97453e806927c16a0597963c4ca}{\_msgs}}.\mbox{\hyperlink{structdai_1_1BP__dual_1_1messages_ae5b8e93e1f4cd1f6598e26c50d59a238}{Zn}}[i][\_I];\ \}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdai_1_1TFactor}{Factor}}\ \mbox{\hyperlink{classdai_1_1BP__dual_ab1e3e5e5a9837a786c594f5a69a61e07}{beliefV}}(\ \textcolor{keywordtype}{size\_t}\ i\ )\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacedai_a7515abf9952cd312e95a34ada0670e85}{Factor}}(\ \mbox{\hyperlink{classdai_1_1BP__dual_a1ca381f37e9f27456e2f47c50053f6d5}{\_ia}}-\/>\mbox{\hyperlink{classdai_1_1InfAlg_a58888cd453abc0b3dbfe62068c5ccaa9}{fg}}().\mbox{\hyperlink{classdai_1_1FactorGraph_a3eb28a9abb00514afc348370ee04c11c}{var}}(i),\ \mbox{\hyperlink{classdai_1_1BP__dual_a751fa8b04459aa32511a690d5361d5bc}{\_beliefs}}.\mbox{\hyperlink{structdai_1_1BP__dual_1_1beliefs_a7aa2374297c90967414ad3c6c9996df1}{b1}}[i]\ );\ \}}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdai_1_1TFactor}{Factor}}\ \mbox{\hyperlink{classdai_1_1BP__dual_a0e0ee240cc1953a9f0cea025c17867dd}{beliefF}}(\ \textcolor{keywordtype}{size\_t}\ I\ )\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacedai_a7515abf9952cd312e95a34ada0670e85}{Factor}}(\ \mbox{\hyperlink{classdai_1_1BP__dual_a1ca381f37e9f27456e2f47c50053f6d5}{\_ia}}-\/>\mbox{\hyperlink{classdai_1_1InfAlg_a58888cd453abc0b3dbfe62068c5ccaa9}{fg}}().\mbox{\hyperlink{classdai_1_1FactorGraph_a6aa6c8f8bdbaee7a7af917a4e7b54c8b}{factor}}(I).\mbox{\hyperlink{classdai_1_1TFactor_a52c048326197e4d8512479b71a0c1e8f}{vars}}(),\ \mbox{\hyperlink{classdai_1_1BP__dual_a751fa8b04459aa32511a690d5361d5bc}{\_beliefs}}.\mbox{\hyperlink{structdai_1_1BP__dual_1_1beliefs_a8506f423a60ba448dac6fa2b0c6f9c11}{b2}}[I]\ );\ \}}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}}\ \mbox{\hyperlink{classdai_1_1BP__dual_a0e4031eec1b9cd47de4061c0553ac004}{beliefVZ}}(\ \textcolor{keywordtype}{size\_t}\ i\ )\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdai_1_1BP__dual_a751fa8b04459aa32511a690d5361d5bc}{\_beliefs}}.\mbox{\hyperlink{structdai_1_1BP__dual_1_1beliefs_ae8e833547bd4c8edd1b88de925e72778}{Zb1}}[i];\ \}}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}}\ \mbox{\hyperlink{classdai_1_1BP__dual_a5d7477bb0e10c51482c2bda53284348d}{beliefFZ}}(\ \textcolor{keywordtype}{size\_t}\ I\ )\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdai_1_1BP__dual_a751fa8b04459aa32511a690d5361d5bc}{\_beliefs}}.\mbox{\hyperlink{structdai_1_1BP__dual_1_1beliefs_aafd58a36af5e2a46038c93b7c70495c1}{Zb2}}[I];\ \}}
\DoxyCodeLine{00133\ \};}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \}\ \textcolor{comment}{//\ end\ of\ namespace\ dai}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
