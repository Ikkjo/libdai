\doxysection{dai\+::TRWBP Class Reference}
\hypertarget{classdai_1_1TRWBP}{}\label{classdai_1_1TRWBP}\index{dai::TRWBP@{dai::TRWBP}}


Approximate inference algorithm "{}\+Tree-\/\+Reweighted Belief Propagation"{} \mbox{[}\doxylink{bibliography_WJW03}{WJW03}\mbox{]}.  




{\ttfamily \#include $<$dai/trwbp.\+h$>$}

Inheritance diagram for dai\+::TRWBP\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{classdai_1_1TRWBP}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{Indent}\textbf{ Constructors/destructors}\par
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdai_1_1TRWBP_a8f9eb61407ecd5e37d49e812d525b871}{TRWBP}} ()
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classdai_1_1TRWBP_a7d006595c29b6328464f96bcd924071e}{TRWBP}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1FactorGraph}{Factor\+Graph}} \&\mbox{\hyperlink{classdai_1_1DAIAlg_a056caa8b537fccbd764b1c9f4e1ff615}{fg}}, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1PropertySet}{Property\+Set}} \&\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{opts}})
\begin{DoxyCompactList}\small\item\em Construct from \doxylink{classdai_1_1FactorGraph}{Factor\+Graph} {\itshape fg} and \doxylink{classdai_1_1PropertySet}{Property\+Set} {\itshape opts}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ General Inf\+Alg interface}\par
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{classdai_1_1TRWBP}{TRWBP}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classdai_1_1TRWBP_a49a16e075233975cb5f363a885952064}{clone}} () \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns a pointer to a new, cloned copy of {\ttfamily \texorpdfstring{$\ast$}{*}this} (i.\+e., virtual copy constructor) \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{classdai_1_1TRWBP}{TRWBP}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classdai_1_1TRWBP_a927a6ac0eb42a08c97ddbbb52cfd55b0}{construct}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1FactorGraph}{Factor\+Graph}} \&\mbox{\hyperlink{classdai_1_1DAIAlg_a056caa8b537fccbd764b1c9f4e1ff615}{fg}}, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1PropertySet}{Property\+Set}} \&\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{opts}}) \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns a pointer to a newly constructed inference algorithm. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} std\+::string \mbox{\hyperlink{classdai_1_1TRWBP_a5fa060f72821df8686a0acc9ff409dac}{name}} () \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns the name of the algorithm. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}} \mbox{\hyperlink{classdai_1_1TRWBP_acdea16043ffbe12926d18fd4dbce38cd}{logZ}} () \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns the logarithm of the (approximated) partition sum (normalizing constant of the factor graph). \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1TRWBP_a2aeaf6c4106d09935a038895d9563bc9}{set\+Properties}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1PropertySet}{Property\+Set}} \&\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{opts}})
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{classdai_1_1PropertySet}{Property\+Set}} \mbox{\hyperlink{classdai_1_1TRWBP_a7aabfb63e3d54d054bc15dd243e0b345}{get\+Properties}} () \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns parameters of this inference algorithm converted into a \doxylink{classdai_1_1PropertySet}{Property\+Set}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} std\+::string \mbox{\hyperlink{classdai_1_1TRWBP_a36687450d0502707138520fbea015519}{print\+Properties}} () \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns parameters of this inference algorithm formatted as a string in the format "{}\mbox{[}key1=val1,key2=val2,...,keyn=valn\mbox{]}"{}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classdai_1_1BP}{dai\+::\+BP}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdai_1_1BP_a79a81420bd4370cdaad9d6a8d85c83a5}{BP}} ()
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classdai_1_1BP_acdfb5e4da942d55f02540d7a5fc29145}{BP}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1FactorGraph}{Factor\+Graph}} \&\mbox{\hyperlink{classdai_1_1DAIAlg_a056caa8b537fccbd764b1c9f4e1ff615}{fg}}, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1PropertySet}{Property\+Set}} \&\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{opts}})
\begin{DoxyCompactList}\small\item\em Construct from \doxylink{classdai_1_1FactorGraph}{Factor\+Graph} {\itshape fg} and \doxylink{classdai_1_1PropertySet}{Property\+Set} {\itshape opts}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classdai_1_1BP_ae8480cbb4a614119a211ffc03221ba47}{BP}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1BP}{BP}} \&\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{x}})
\begin{DoxyCompactList}\small\item\em Copy constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classdai_1_1BP}{BP}} \& \mbox{\hyperlink{classdai_1_1BP_add85db1d9ceb68215bda4ea4522cbd13}{operator=}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1BP}{BP}} \&\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{x}})
\begin{DoxyCompactList}\small\item\em Assignment operator. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{namespacedai_a7515abf9952cd312e95a34ada0670e85}{Factor}} \mbox{\hyperlink{classdai_1_1BP_a7622fa73d05a63f5c2e14ae90f25ac98}{belief}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1Var}{Var}} \&\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{v}}) \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns the (approximate) marginal probability distribution of a variable. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{namespacedai_a7515abf9952cd312e95a34ada0670e85}{Factor}} \mbox{\hyperlink{classdai_1_1BP_a77f67b27bf95b36387e9083b21db4797}{belief}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1VarSet}{Var\+Set}} \&\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{vs}}) \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns the (approximate) marginal probability distribution of a set of variables. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{namespacedai_a7515abf9952cd312e95a34ada0670e85}{Factor}} \mbox{\hyperlink{classdai_1_1BP_a6f94ebf0170553bfc8d7020f436afc18}{beliefV}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} i) \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns the (approximate) marginal probability distribution of the variable with index {\itshape i}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{namespacedai_a7515abf9952cd312e95a34ada0670e85}{Factor}} \mbox{\hyperlink{classdai_1_1BP_a6f9820fd04efbb11a68d397fb29640bc}{beliefF}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} I) \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns the (approximate) marginal probability distribution of the variables on which factor {\itshape I} depends. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} std\+::vector$<$ \mbox{\hyperlink{namespacedai_a7515abf9952cd312e95a34ada0670e85}{Factor}} $>$ \mbox{\hyperlink{classdai_1_1BP_a9371a650c6d9bee7856c9d21c6e3987e}{beliefs}} () \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns all beliefs (approximate marginal probability distributions) calculated by the algorithm. \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} $>$ \mbox{\hyperlink{classdai_1_1BP_ac8145a391bc7b6fc492e83f54308d35c}{find\+Maximum}} () \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1BP_a83349319b22a2d71b1f4ef39709365f9}{init}} ()
\begin{DoxyCompactList}\small\item\em Initializes all data structures of the approximate inference algorithm. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1BP_ab711dcd5db848b6d993fac482b64ee20}{init}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1VarSet}{Var\+Set}} \&\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{ns}})
\begin{DoxyCompactList}\small\item\em Initializes all data structures corresponding to some set of variables. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}} \mbox{\hyperlink{classdai_1_1BP_a6a47c6f0e1f4cd72a666d30f16dc217f}{run}} ()
\begin{DoxyCompactList}\small\item\em Runs the approximate inference algorithm. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}} \mbox{\hyperlink{classdai_1_1BP_a7b30486b4e9a2af12bf2642857f31dc6}{max\+Diff}} () \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns maximum difference between single variable beliefs in the last iteration. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} \mbox{\hyperlink{classdai_1_1BP_a893e0cde801d8761d1553a89937aaf00}{Iterations}} () \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns number of iterations done (one iteration passes over the complete factorgraph). \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1BP_ad55c4e707b2726a9d99e1625b31eff12}{set\+Max\+Iter}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} maxiter)
\begin{DoxyCompactList}\small\item\em Sets maximum number of iterations (one iteration passes over the complete factorgraph). \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} std\+::vector$<$ std\+::pair$<$ \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}}, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} $>$ $>$ \& \mbox{\hyperlink{classdai_1_1BP_ab3bdb6f0cdc0f4f5f32f88eed33b5219}{get\+Sent\+Messages}} () \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns history of which messages have been updated. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1BP_a27279d1154f031be6fcec443ecdaa49f}{clear\+Sent\+Messages}} ()
\begin{DoxyCompactList}\small\item\em Clears history of which messages have been updated. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classdai_1_1DAIAlg}{dai\+::\+DAIAlg$<$ GRM $>$}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdai_1_1DAIAlg_a1b66918854e70f19c8b506658c9f50e0}{DAIAlg}} ()
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classdai_1_1DAIAlg_a46ac57c2abad7c6870f30edc951aeff3}{DAIAlg}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} GRM \&\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{grm}})
\begin{DoxyCompactList}\small\item\em Construct from GRM. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdai_1_1FactorGraph}{Factor\+Graph}} \& \mbox{\hyperlink{classdai_1_1DAIAlg_a056caa8b537fccbd764b1c9f4e1ff615}{fg}} ()
\begin{DoxyCompactList}\small\item\em Returns reference to underlying \doxylink{classdai_1_1FactorGraph}{Factor\+Graph}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1FactorGraph}{Factor\+Graph}} \& \mbox{\hyperlink{classdai_1_1DAIAlg_afdb2f05fe4b4458a9680ddbe21ad58a9}{fg}} () \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns constant reference to underlying \doxylink{classdai_1_1FactorGraph}{Factor\+Graph}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1DAIAlg_ac0d7b26c09d9d7db4a7eda5f66181045}{clamp}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} i, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{x}}, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{bool}} \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{backup}}=\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{false}})
\begin{DoxyCompactList}\small\item\em Clamp variable with index {\itshape i} to value {\itshape x} (i.\+e. multiply with a Kronecker delta $\delta_{x_i, x}$) \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1DAIAlg_a7f0b8452352080a1e35ab9a68cb589fd}{make\+Cavity}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} i, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{bool}} \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{backup}}=\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{false}})
\begin{DoxyCompactList}\small\item\em Sets all factors interacting with variable with index {\itshape i} to one. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1DAIAlg_a195bcd6ad05557374c95db50c674ad7f}{make\+Region\+Cavity}} (std\+::vector$<$ \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} $>$ \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{fac\+Inds}}, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{bool}} \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{backup}})
\begin{DoxyCompactList}\small\item\em Sets all factors indicated by {\itshape fac\+Inds} to one. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1DAIAlg_a48ba6a58d10b8802d690e5e92ec5abe9}{backup\+Factor}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} I)
\begin{DoxyCompactList}\small\item\em Make a backup copy of factor {\itshape I}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1DAIAlg_ac74e4ae749a3f706462bb5c0c0f204ca}{backup\+Factors}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1VarSet}{Var\+Set}} \&\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{vs}})
\begin{DoxyCompactList}\small\item\em Make backup copies of all factors involving the variables in {\itshape vs}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1DAIAlg_abf8dbd2797ec871e86566a6dfc0864e3}{restore\+Factor}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} I)
\begin{DoxyCompactList}\small\item\em Restore factor {\itshape I} from its backup copy. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1DAIAlg_a333a182249b2abeb93ff21377d0e8ffd}{restore\+Factors}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1VarSet}{Var\+Set}} \&\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{vs}})
\begin{DoxyCompactList}\small\item\em Restore the factors involving the variables in {\itshape vs} from their backup copies. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1DAIAlg_aa4f659feb4967ba096400f4904cfe068}{restore\+Factors}} ()
\begin{DoxyCompactList}\small\item\em Restore all factors from their backup copies. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classdai_1_1InfAlg}{dai\+::\+Inf\+Alg}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{classdai_1_1InfAlg_a00c1dba1041af038de0689cceb0a69f0}{\texorpdfstring{$\sim$}{\string~}\+Inf\+Alg}} ()
\begin{DoxyCompactList}\small\item\em Virtual destructor (needed because this class contains virtual functions) \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} std\+::string \mbox{\hyperlink{classdai_1_1InfAlg_aa4284a406963b4cd55a820af98e9f03d}{identify}} () \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Identifies itself for logging purposes. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} \mbox{\hyperlink{classdai_1_1TRWBP_aa53430394d674704ec20cd3272c4b528}{nrtrees}}
\begin{DoxyCompactList}\small\item\em Size of sample of trees used to set the weights. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes inherited from \mbox{\hyperlink{classdai_1_1BP}{dai\+::\+BP}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{struct}} \mbox{\hyperlink{structdai_1_1BP_1_1Properties}{dai\+::\+BP\+::\+Properties}} {\bfseries props}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{bool}} \mbox{\hyperlink{classdai_1_1BP_a18460881ce5e2a56adf0659f13339131}{record\+Sent\+Messages}}
\begin{DoxyCompactList}\small\item\em Specifies whether the history of message updates should be recorded. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}} $>$ \mbox{\hyperlink{classdai_1_1TRWBP_ac0a7cb5023b78ca21b6bc00825eb6e9b}{\+\_\+weight}}
\begin{DoxyCompactList}\small\item\em "{}\+Edge weights"{} (indexed by factor ID) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classdai_1_1BP}{dai\+::\+BP}}}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ std\+::vector$<$ \mbox{\hyperlink{structdai_1_1BP_1_1EdgeProp}{Edge\+Prop}} $>$ $>$ \mbox{\hyperlink{classdai_1_1BP_ae061035ab3cae0cea9c2dfdceb6d92f7}{\+\_\+edges}}
\begin{DoxyCompactList}\small\item\em Stores all edge properties. \end{DoxyCompactList}\item 
std\+::vector$<$ std\+::vector$<$ Lut\+Type\+::iterator $>$ $>$ \mbox{\hyperlink{classdai_1_1BP_aa03dc24e2e8ba6ab12d179d9528fc594}{\+\_\+edge2lut}}
\begin{DoxyCompactList}\small\item\em Lookup table (only used for maximum-\/residual \doxylink{classdai_1_1BP}{BP}) \end{DoxyCompactList}\item 
\mbox{\hyperlink{classdai_1_1BP_a34e3854a6740e10a650835a0d6ca1028}{Lut\+Type}} \mbox{\hyperlink{classdai_1_1BP_a9302f6004dad2004564ce594d85d2a20}{\+\_\+lut}}
\begin{DoxyCompactList}\small\item\em Lookup table (only used for maximum-\/residual \doxylink{classdai_1_1BP}{BP}) \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}} \mbox{\hyperlink{classdai_1_1BP_a1cc44127785b369d091f9e126b4cc40e}{\+\_\+maxdiff}}
\begin{DoxyCompactList}\small\item\em Maximum difference between variable beliefs encountered so far. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} \mbox{\hyperlink{classdai_1_1BP_a4fd3a6c1e6289d20d4caa5a6a575199d}{\+\_\+iters}}
\begin{DoxyCompactList}\small\item\em Number of iterations needed. \end{DoxyCompactList}\item 
std\+::vector$<$ std\+::pair$<$ \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}}, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} $>$ $>$ \mbox{\hyperlink{classdai_1_1BP_afdb2a63192801122b57f56e01dc824eb}{\+\_\+sent\+Messages}}
\begin{DoxyCompactList}\small\item\em The history of message updates (only recorded if {\itshape record\+Sent\+Messages} is {\ttfamily true}) \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{namespacedai_a7515abf9952cd312e95a34ada0670e85}{Factor}} $>$ \mbox{\hyperlink{classdai_1_1BP_aef9ddfd20780ac70497361ff46d66c60}{\+\_\+old\+BeliefsV}}
\begin{DoxyCompactList}\small\item\em Stores variable beliefs of previous iteration. \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{namespacedai_a7515abf9952cd312e95a34ada0670e85}{Factor}} $>$ \mbox{\hyperlink{classdai_1_1BP_a1d968fb22f5c06a987e66af271597f95}{\+\_\+old\+BeliefsF}}
\begin{DoxyCompactList}\small\item\em Stores factor beliefs of previous iteration. \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{namespacedai_aca51f13415f708db9eabda981b107a14}{Edge}} $>$ \mbox{\hyperlink{classdai_1_1BP_ad9b0eff556c76be0369cf7fb55b7493e}{\+\_\+update\+Seq}}
\begin{DoxyCompactList}\small\item\em Stores the update schedule. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{TRWBP accessors/mutators for scale parameters}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}} \mbox{\hyperlink{classdai_1_1TRWBP_a704b8fb2bb932f332fb742fab8888668}{Weight}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} I) \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns weight corresponding to the {\itshape I} \textquotesingle{}th factor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} std\+::vector$<$ \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}} $>$ \& \mbox{\hyperlink{classdai_1_1TRWBP_aca198d23867951a3de89833d6cc731ff}{Weights}} () \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns constant reference to vector of all weights. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1TRWBP_ae2be45ffdcaed373e473d9618cc221b6}{set\+Weight}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} I, \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}} c)
\begin{DoxyCompactList}\small\item\em Sets the weight of the {\itshape I} \textquotesingle{}th factor to {\itshape c}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1TRWBP_add0675bc15f6b004150014a1e28cf15e}{set\+Weights}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} std\+::vector$<$ \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}} $>$ \&c)
\begin{DoxyCompactList}\small\item\em Sets the weights of all factors simultaenously. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1TRWBP_a26f755375f7302f3cad54098c1064347}{add\+Tree\+To\+Weights}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1RootedTree}{Rooted\+Tree}} \&\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{tree}})
\begin{DoxyCompactList}\small\item\em Increases weights corresponding to pairwise factors in {\itshape tree} with 1. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1TRWBP_a7d0433745a89aef4bdbfa25b13af5fee}{sample\+Weights}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{nr\+Trees}})
\begin{DoxyCompactList}\small\item\em Samples weights from a sample of {\itshape nr\+Trees} random spanning trees. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{namespacedai_a90f06137ef74bb483e30ee2c7e31b2c8}{Prob}} \mbox{\hyperlink{classdai_1_1TRWBP_aec7dad36c42dc18ac284e448bf571ca1}{calc\+Incoming\+Message\+Product}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} I, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{bool}} \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{without\+\_\+i}}, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} i) \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Calculate the product of factor {\itshape I} and the incoming messages. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1TRWBP_a968f4236748e249379216750ff146e3a}{calc\+BeliefV}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} i, \mbox{\hyperlink{namespacedai_a90f06137ef74bb483e30ee2c7e31b2c8}{Prob}} \&p) \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Calculates unnormalized belief of variable {\itshape i}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1TRWBP_ab42ea7809a841a7cf6a043ede7c2f22d}{calc\+BeliefF}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} I, \mbox{\hyperlink{namespacedai_a90f06137ef74bb483e30ee2c7e31b2c8}{Prob}} \&p) \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Calculates unnormalized belief of factor {\itshape I}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1TRWBP_acb2edaf2a224aa7643932878fe54699c}{construct}} ()
\begin{DoxyCompactList}\small\item\em Helper function for constructors. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Types inherited from \mbox{\hyperlink{classdai_1_1BP}{dai\+::\+BP}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{typedef}} std\+::vector$<$ \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} $>$ \mbox{\hyperlink{classdai_1_1BP_af206a56f36098cb72be8bdb64b48817a}{ind\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Type used for index cache. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{typedef}} std\+::multimap$<$ \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}}, std\+::pair$<$ \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}}, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} $>$ $>$ \mbox{\hyperlink{classdai_1_1BP_a34e3854a6740e10a650835a0d6ca1028}{Lut\+Type}}
\begin{DoxyCompactList}\small\item\em Type of lookup table (only used for maximum-\/residual \doxylink{classdai_1_1BP}{BP}) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classdai_1_1BP}{dai\+::\+BP}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{namespacedai_a90f06137ef74bb483e30ee2c7e31b2c8}{Prob}} \& \mbox{\hyperlink{classdai_1_1BP_aeea4b077f1f6cfede1ceadc79d309ae0}{message}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} i, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} \+\_\+I) \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns constant reference to message from the {\itshape \+\_\+I} \textquotesingle{}th neighbor of variable {\itshape i} to variable {\itshape i}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a90f06137ef74bb483e30ee2c7e31b2c8}{Prob}} \& \mbox{\hyperlink{classdai_1_1BP_a7c58d619ae50833fff965e69e2f6f100}{message}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} i, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} \+\_\+I)
\begin{DoxyCompactList}\small\item\em Returns reference to message from the {\itshape \+\_\+I} \textquotesingle{}th neighbor of variable {\itshape i} to variable {\itshape i}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{namespacedai_a90f06137ef74bb483e30ee2c7e31b2c8}{Prob}} \& \mbox{\hyperlink{classdai_1_1BP_a16415550170a9c7a41fef259db780b19}{new\+Message}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} i, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} \+\_\+I) \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns constant reference to updated message from the {\itshape \+\_\+I} \textquotesingle{}th neighbor of variable {\itshape i} to variable {\itshape i}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a90f06137ef74bb483e30ee2c7e31b2c8}{Prob}} \& \mbox{\hyperlink{classdai_1_1BP_a8009fb2930da86786c580d06820a9051}{new\+Message}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} i, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} \+\_\+I)
\begin{DoxyCompactList}\small\item\em Returns reference to updated message from the {\itshape \+\_\+I} \textquotesingle{}th neighbor of variable {\itshape i} to variable {\itshape i}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1BP_af206a56f36098cb72be8bdb64b48817a}{ind\+\_\+t}} \& \mbox{\hyperlink{classdai_1_1BP_a7a102237451487df768fdab987689f58}{index}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} i, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} \+\_\+I) \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns constant reference to cached index for the edge between variable {\itshape i} and its {\itshape \+\_\+I} \textquotesingle{}th neighbor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdai_1_1BP_af206a56f36098cb72be8bdb64b48817a}{ind\+\_\+t}} \& \mbox{\hyperlink{classdai_1_1BP_ae54018825f62b824b1588c6b4ec76ffb}{index}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} i, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} \+\_\+I)
\begin{DoxyCompactList}\small\item\em Returns reference to cached index for the edge between variable {\itshape i} and its {\itshape \+\_\+I} \textquotesingle{}th neighbor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}} \& \mbox{\hyperlink{classdai_1_1BP_a3ce171d3abbd217b73e82dfc80f10cf6}{residual}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} i, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} \+\_\+I) \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}}
\begin{DoxyCompactList}\small\item\em Returns constant reference to residual for the edge between variable {\itshape i} and its {\itshape \+\_\+I} \textquotesingle{}th neighbor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}} \& \mbox{\hyperlink{classdai_1_1BP_a9f8ac76a2b73099c4bc248461bed0da8}{residual}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} i, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} \+\_\+I)
\begin{DoxyCompactList}\small\item\em Returns reference to residual for the edge between variable {\itshape i} and its {\itshape \+\_\+I} \textquotesingle{}th neighbor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1BP_ab3201c4c9099656bf76098cb5ecca486}{calc\+New\+Message}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} i, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} \+\_\+I)
\begin{DoxyCompactList}\small\item\em Calculate the updated message from the {\itshape \+\_\+I} \textquotesingle{}th neighbor of variable {\itshape i} to variable {\itshape i}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1BP_a758936c7ddec33145d364b29f75eeda4}{update\+Message}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} i, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} \+\_\+I)
\begin{DoxyCompactList}\small\item\em Replace the "{}old"{} message from the {\itshape \+\_\+I} \textquotesingle{}th neighbor of variable {\itshape i} to variable {\itshape i} by the "{}new"{} (updated) message. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1BP_aadcfd932c08690541849847e720e950f}{update\+Residual}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} i, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} \+\_\+I, \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}} \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{r}})
\begin{DoxyCompactList}\small\item\em Set the residual (difference between new and old message) for the edge between variable {\itshape i} and its {\itshape \+\_\+I} \textquotesingle{}th neighbor to {\itshape r}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} \mbox{\hyperlink{classdai_1_1BP_a3a4f648b3d03bd311edb9d8b532897aa}{find\+Max\+Residual}} (\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} \&i, \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} \&\+\_\+I)
\begin{DoxyCompactList}\small\item\em Finds the edge which has the maximum residual (difference between new and old message) \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Approximate inference algorithm "{}\+Tree-\/\+Reweighted Belief Propagation"{} \mbox{[}\doxylink{bibliography_WJW03}{WJW03}\mbox{]}. 

The Tree-\/\+Reweighted Belief Propagation algorithm is like Belief Propagation, but associates each factor with a scale parameter. which controls the divergence measure being minimized.

The messages $m_{I\to i}(x_i)$ are passed from factors $I$ to variables $i$. The update equation is given by\+: \[ m_{I\to i}(x_i) \propto \sum_{x_{N_I\setminus\{i\}}} f_I(x_I)^{1/c_I} \prod_{j\in N_I\setminus\{i\}} m_{I\to j}^{c_I-1} \prod_{J\in N_j\setminus\{I\}} m_{J\to j}^{c_J} \] After convergence, the variable beliefs are calculated by\+: \[ b_i(x_i) \propto \prod_{I\in N_i} m_{I\to i}^{c_I} \] and the factor beliefs are calculated by\+: \[ b_I(x_I) \propto f_I(x_I)^{1/c_I} \prod_{j \in N_I} m_{I\to j}^{c_I-1} \prod_{J\in N_j\setminus\{I\}} m_{J\to j}^{c_J} \] The logarithm of the partition sum is approximated by\+: \[ \log Z = \sum_{I} \sum_{x_I} b_I(x_I) \big( \log f_I(x_I) - c_I \log b_I(x_I) \big) + \sum_{i} (c_i - 1) \sum_{x_i} b_i(x_i) \log b_i(x_i) \] where the variable weights are defined as \[ c_i := \sum_{I \in N_i} c_I \]

\begin{DoxyNote}{Note}
\doxylink{classdai_1_1TRWBP}{TRWBP} is actually equivalent to \doxylink{classdai_1_1FBP}{FBP} 
\end{DoxyNote}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000018}{Todo}}]Merge code of \doxylink{classdai_1_1FBP}{FBP} and \doxylink{classdai_1_1TRWBP}{TRWBP} \end{DoxyRefDesc}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classdai_1_1TRWBP_a8f9eb61407ecd5e37d49e812d525b871}\label{classdai_1_1TRWBP_a8f9eb61407ecd5e37d49e812d525b871} 
\index{dai::TRWBP@{dai::TRWBP}!TRWBP@{TRWBP}}
\index{TRWBP@{TRWBP}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{TRWBP()}{TRWBP()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily dai\+::\+TRWBP\+::\+TRWBP (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Default constructor. 

\Hypertarget{classdai_1_1TRWBP_a7d006595c29b6328464f96bcd924071e}\label{classdai_1_1TRWBP_a7d006595c29b6328464f96bcd924071e} 
\index{dai::TRWBP@{dai::TRWBP}!TRWBP@{TRWBP}}
\index{TRWBP@{TRWBP}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{TRWBP()}{TRWBP()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily dai\+::\+TRWBP\+::\+TRWBP (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1FactorGraph}{Factor\+Graph}} \&}]{fg,  }\item[{\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1PropertySet}{Property\+Set}} \&}]{opts }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Construct from \doxylink{classdai_1_1FactorGraph}{Factor\+Graph} {\itshape fg} and \doxylink{classdai_1_1PropertySet}{Property\+Set} {\itshape opts}. 

There is an additional property "{}nrtrees"{} which allows to specify the number of random spanning trees used to set the scale parameters. 
\begin{DoxyParams}{Parameters}
{\em fg} & Factor graph. \\
\hline
{\em opts} & Parameters \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\doxylink{structdai_1_1BP_1_1Properties}{BP\+::\+Properties}. 
\end{DoxySeeAlso}


\doxysubsection{Member Function Documentation}
\Hypertarget{classdai_1_1TRWBP_a49a16e075233975cb5f363a885952064}\label{classdai_1_1TRWBP_a49a16e075233975cb5f363a885952064} 
\index{dai::TRWBP@{dai::TRWBP}!clone@{clone}}
\index{clone@{clone}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{clone()}{clone()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{classdai_1_1TRWBP}{TRWBP}} \texorpdfstring{$\ast$}{*} dai\+::\+TRWBP\+::clone (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Returns a pointer to a new, cloned copy of {\ttfamily \texorpdfstring{$\ast$}{*}this} (i.\+e., virtual copy constructor) 



Reimplemented from \mbox{\hyperlink{classdai_1_1BP_a26e1109e6f1a704a460e24bc23c86e44}{dai\+::\+BP}}.

\Hypertarget{classdai_1_1TRWBP_a927a6ac0eb42a08c97ddbbb52cfd55b0}\label{classdai_1_1TRWBP_a927a6ac0eb42a08c97ddbbb52cfd55b0} 
\index{dai::TRWBP@{dai::TRWBP}!construct@{construct}}
\index{construct@{construct}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{construct()}{construct()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{classdai_1_1TRWBP}{TRWBP}} \texorpdfstring{$\ast$}{*} dai\+::\+TRWBP\+::construct (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1FactorGraph}{Factor\+Graph}} \&}]{fg,  }\item[{\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1PropertySet}{Property\+Set}} \&}]{opts }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Returns a pointer to a newly constructed inference algorithm. 


\begin{DoxyParams}{Parameters}
{\em fg} & Factor graph on which to perform the inference algorithm; \\
\hline
{\em opts} & Parameters passed to constructor of inference algorithm; \\
\hline
\end{DoxyParams}


Reimplemented from \mbox{\hyperlink{classdai_1_1BP_ac517bcae7260b8f11f841cef6f95fbd7}{dai\+::\+BP}}.

\Hypertarget{classdai_1_1TRWBP_a5fa060f72821df8686a0acc9ff409dac}\label{classdai_1_1TRWBP_a5fa060f72821df8686a0acc9ff409dac} 
\index{dai::TRWBP@{dai::TRWBP}!name@{name}}
\index{name@{name}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{name()}{name()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} std\+::string dai\+::\+TRWBP\+::name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Returns the name of the algorithm. 



Reimplemented from \mbox{\hyperlink{classdai_1_1BP_a7a89e2bb58bcb7d9b6b32620aaedc971}{dai\+::\+BP}}.

\Hypertarget{classdai_1_1TRWBP_acdea16043ffbe12926d18fd4dbce38cd}\label{classdai_1_1TRWBP_acdea16043ffbe12926d18fd4dbce38cd} 
\index{dai::TRWBP@{dai::TRWBP}!logZ@{logZ}}
\index{logZ@{logZ}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{logZ()}{logZ()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}} dai\+::\+TRWBP\+::logZ (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Returns the logarithm of the (approximated) partition sum (normalizing constant of the factor graph). 

\begin{DoxyNote}{Note}
Before this method is called, \doxylink{classdai_1_1BP_a6a47c6f0e1f4cd72a666d30f16dc217f}{run()} should have been called. 
\end{DoxyNote}

\begin{DoxyExceptions}{Exceptions}
{\em NOT\+\_\+\+IMPLEMENTED} & if not implemented/supported \\
\hline
\end{DoxyExceptions}


Reimplemented from \mbox{\hyperlink{classdai_1_1BP_a97fa7c1d5e39cb0b0fe6e9beed689b03}{dai\+::\+BP}}.

\Hypertarget{classdai_1_1TRWBP_a2aeaf6c4106d09935a038895d9563bc9}\label{classdai_1_1TRWBP_a2aeaf6c4106d09935a038895d9563bc9} 
\index{dai::TRWBP@{dai::TRWBP}!setProperties@{setProperties}}
\index{setProperties@{setProperties}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{setProperties()}{setProperties()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} dai\+::\+TRWBP\+::set\+Properties (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1PropertySet}{Property\+Set}} \&}]{opts }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000001}{Todo}}]Make DAI\+\_\+\+BP\+\_\+\+FAST a compile-\/time choice, as it is a memory/speed tradeoff \end{DoxyRefDesc}


Reimplemented from \mbox{\hyperlink{classdai_1_1BP_a6a169aace3fd0538e79cef8392cfe2a4}{dai\+::\+BP}}.

\Hypertarget{classdai_1_1TRWBP_a7aabfb63e3d54d054bc15dd243e0b345}\label{classdai_1_1TRWBP_a7aabfb63e3d54d054bc15dd243e0b345} 
\index{dai::TRWBP@{dai::TRWBP}!getProperties@{getProperties}}
\index{getProperties@{getProperties}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{getProperties()}{getProperties()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdai_1_1PropertySet}{Property\+Set}} dai\+::\+TRWBP\+::get\+Properties (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Returns parameters of this inference algorithm converted into a \doxylink{classdai_1_1PropertySet}{Property\+Set}. 



Reimplemented from \mbox{\hyperlink{classdai_1_1BP_ae43b21934dd55e764fc782b1c52820a3}{dai\+::\+BP}}.

\Hypertarget{classdai_1_1TRWBP_a36687450d0502707138520fbea015519}\label{classdai_1_1TRWBP_a36687450d0502707138520fbea015519} 
\index{dai::TRWBP@{dai::TRWBP}!printProperties@{printProperties}}
\index{printProperties@{printProperties}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{printProperties()}{printProperties()}}
{\footnotesize\ttfamily string dai\+::\+TRWBP\+::print\+Properties (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Returns parameters of this inference algorithm formatted as a string in the format "{}\mbox{[}key1=val1,key2=val2,...,keyn=valn\mbox{]}"{}. 



Reimplemented from \mbox{\hyperlink{classdai_1_1BP_adc515cf32e6b41cb740ed7da363d3e65}{dai\+::\+BP}}.

\Hypertarget{classdai_1_1TRWBP_a704b8fb2bb932f332fb742fab8888668}\label{classdai_1_1TRWBP_a704b8fb2bb932f332fb742fab8888668} 
\index{dai::TRWBP@{dai::TRWBP}!Weight@{Weight}}
\index{Weight@{Weight}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{Weight()}{Weight()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}} dai\+::\+TRWBP\+::\+Weight (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}}}]{I }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns weight corresponding to the {\itshape I} \textquotesingle{}th factor. 

\Hypertarget{classdai_1_1TRWBP_aca198d23867951a3de89833d6cc731ff}\label{classdai_1_1TRWBP_aca198d23867951a3de89833d6cc731ff} 
\index{dai::TRWBP@{dai::TRWBP}!Weights@{Weights}}
\index{Weights@{Weights}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{Weights()}{Weights()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} std\+::vector$<$ \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}} $>$ \& dai\+::\+TRWBP\+::\+Weights (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns constant reference to vector of all weights. 

\Hypertarget{classdai_1_1TRWBP_ae2be45ffdcaed373e473d9618cc221b6}\label{classdai_1_1TRWBP_ae2be45ffdcaed373e473d9618cc221b6} 
\index{dai::TRWBP@{dai::TRWBP}!setWeight@{setWeight}}
\index{setWeight@{setWeight}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{setWeight()}{setWeight()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} dai\+::\+TRWBP\+::set\+Weight (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}}}]{I,  }\item[{\mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}}}]{c }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the weight of the {\itshape I} \textquotesingle{}th factor to {\itshape c}. 

\Hypertarget{classdai_1_1TRWBP_add0675bc15f6b004150014a1e28cf15e}\label{classdai_1_1TRWBP_add0675bc15f6b004150014a1e28cf15e} 
\index{dai::TRWBP@{dai::TRWBP}!setWeights@{setWeights}}
\index{setWeights@{setWeights}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{setWeights()}{setWeights()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} dai\+::\+TRWBP\+::set\+Weights (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} std\+::vector$<$ \mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}} $>$ \&}]{c }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the weights of all factors simultaenously. 

\begin{DoxyNote}{Note}
Faster than calling \doxylink{classdai_1_1TRWBP_ae2be45ffdcaed373e473d9618cc221b6}{set\+Weight(size\+\_\+t,\+Real)} for each factor 
\end{DoxyNote}
\Hypertarget{classdai_1_1TRWBP_a26f755375f7302f3cad54098c1064347}\label{classdai_1_1TRWBP_a26f755375f7302f3cad54098c1064347} 
\index{dai::TRWBP@{dai::TRWBP}!addTreeToWeights@{addTreeToWeights}}
\index{addTreeToWeights@{addTreeToWeights}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{addTreeToWeights()}{addTreeToWeights()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} dai\+::\+TRWBP\+::add\+Tree\+To\+Weights (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{const}} \mbox{\hyperlink{classdai_1_1RootedTree}{Rooted\+Tree}} \&}]{tree }\end{DoxyParamCaption})}



Increases weights corresponding to pairwise factors in {\itshape tree} with 1. 

\Hypertarget{classdai_1_1TRWBP_a7d0433745a89aef4bdbfa25b13af5fee}\label{classdai_1_1TRWBP_a7d0433745a89aef4bdbfa25b13af5fee} 
\index{dai::TRWBP@{dai::TRWBP}!sampleWeights@{sampleWeights}}
\index{sampleWeights@{sampleWeights}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{sampleWeights()}{sampleWeights()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} dai\+::\+TRWBP\+::sample\+Weights (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}}}]{nr\+Trees }\end{DoxyParamCaption})}



Samples weights from a sample of {\itshape nr\+Trees} random spanning trees. 

\Hypertarget{classdai_1_1TRWBP_aec7dad36c42dc18ac284e448bf571ca1}\label{classdai_1_1TRWBP_aec7dad36c42dc18ac284e448bf571ca1} 
\index{dai::TRWBP@{dai::TRWBP}!calcIncomingMessageProduct@{calcIncomingMessageProduct}}
\index{calcIncomingMessageProduct@{calcIncomingMessageProduct}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{calcIncomingMessageProduct()}{calcIncomingMessageProduct()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedai_a90f06137ef74bb483e30ee2c7e31b2c8}{Prob}} dai\+::\+TRWBP\+::calc\+Incoming\+Message\+Product (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}}}]{I,  }\item[{\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{bool}}}]{without\+\_\+i,  }\item[{\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}}}]{i }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Calculate the product of factor {\itshape I} and the incoming messages. 

If {\itshape without\+\_\+i} == {\ttfamily true}, the message coming from variable {\itshape i} is omitted from the product \begin{DoxyNote}{Note}
This function is used by \doxylink{classdai_1_1BP_ab3201c4c9099656bf76098cb5ecca486}{calc\+New\+Message()} and \doxylink{classdai_1_1TRWBP_ab42ea7809a841a7cf6a043ede7c2f22d}{calc\+Belief\+F()} 
\end{DoxyNote}


Reimplemented from \mbox{\hyperlink{classdai_1_1BP_a15005a6fe1481ce5a2a5e3a4f6694074}{dai\+::\+BP}}.

\Hypertarget{classdai_1_1TRWBP_a968f4236748e249379216750ff146e3a}\label{classdai_1_1TRWBP_a968f4236748e249379216750ff146e3a} 
\index{dai::TRWBP@{dai::TRWBP}!calcBeliefV@{calcBeliefV}}
\index{calcBeliefV@{calcBeliefV}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{calcBeliefV()}{calcBeliefV()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} dai\+::\+TRWBP\+::calc\+BeliefV (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}}}]{i,  }\item[{\mbox{\hyperlink{namespacedai_a90f06137ef74bb483e30ee2c7e31b2c8}{Prob}} \&}]{p }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Calculates unnormalized belief of variable {\itshape i}. 



Reimplemented from \mbox{\hyperlink{classdai_1_1BP_aeb53916a0ce55cc0ea56c2685ca8b76b}{dai\+::\+BP}}.

\Hypertarget{classdai_1_1TRWBP_ab42ea7809a841a7cf6a043ede7c2f22d}\label{classdai_1_1TRWBP_ab42ea7809a841a7cf6a043ede7c2f22d} 
\index{dai::TRWBP@{dai::TRWBP}!calcBeliefF@{calcBeliefF}}
\index{calcBeliefF@{calcBeliefF}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{calcBeliefF()}{calcBeliefF()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{virtual}} \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} dai\+::\+TRWBP\+::calc\+BeliefF (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}}}]{I,  }\item[{\mbox{\hyperlink{namespacedai_a90f06137ef74bb483e30ee2c7e31b2c8}{Prob}} \&}]{p }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Calculates unnormalized belief of factor {\itshape I}. 



Reimplemented from \mbox{\hyperlink{classdai_1_1BP_a44befb376a313dd0310f0bc310bb0b71}{dai\+::\+BP}}.

\Hypertarget{classdai_1_1TRWBP_acb2edaf2a224aa7643932878fe54699c}\label{classdai_1_1TRWBP_acb2edaf2a224aa7643932878fe54699c} 
\index{dai::TRWBP@{dai::TRWBP}!construct@{construct}}
\index{construct@{construct}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{construct()}{construct()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{void}} dai\+::\+TRWBP\+::construct (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Helper function for constructors. 



Reimplemented from \mbox{\hyperlink{classdai_1_1BP_ac1ebfbe0a328c5f460ec6ce55e79b22d}{dai\+::\+BP}}.



\doxysubsection{Member Data Documentation}
\Hypertarget{classdai_1_1TRWBP_ac0a7cb5023b78ca21b6bc00825eb6e9b}\label{classdai_1_1TRWBP_ac0a7cb5023b78ca21b6bc00825eb6e9b} 
\index{dai::TRWBP@{dai::TRWBP}!\_weight@{\_weight}}
\index{\_weight@{\_weight}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{\_weight}{\_weight}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{namespacedai_ae7d0472fdc89a8635825d01940e91cbf}{Real}}$>$ dai\+::\+TRWBP\+::\+\_\+weight\hspace{0.3cm}{\ttfamily [protected]}}



"{}\+Edge weights"{} (indexed by factor ID) 

In \mbox{[}\doxylink{bibliography_WJW03}{WJW03}\mbox{]}, only unary or pairwise factors are considered. Here we are more general by having a weight for each factor in the factor graph. If unary factors have weight 1, and higher-\/order factors are absent, then we have the special case considered in \mbox{[}\doxylink{bibliography_WJW03}{WJW03}\mbox{]}. \Hypertarget{classdai_1_1TRWBP_aa53430394d674704ec20cd3272c4b528}\label{classdai_1_1TRWBP_aa53430394d674704ec20cd3272c4b528} 
\index{dai::TRWBP@{dai::TRWBP}!nrtrees@{nrtrees}}
\index{nrtrees@{nrtrees}!dai::TRWBP@{dai::TRWBP}}
\doxysubsubsection{\texorpdfstring{nrtrees}{nrtrees}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedai_a94b4dd96324af3c0511584a0925f9c15}{size\+\_\+t}} dai\+::\+TRWBP\+::nrtrees}



Size of sample of trees used to set the weights. 

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000019}{Todo}}]See if there is a way to wrap \doxylink{classdai_1_1TRWBP_aa53430394d674704ec20cd3272c4b528}{TRWBP\+::nrtrees} in a props struct together with the other properties currently in TRWBP\+::props (without copying al lot of \doxylink{classdai_1_1BP}{BP} code literally) \end{DoxyRefDesc}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/dai/\mbox{\hyperlink{trwbp_8h}{trwbp.\+h}}\item 
src/trwbp.\+cpp\end{DoxyCompactItemize}
